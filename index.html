<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FBF Stock Recommendation Engine</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="app-header">
  <h1>FBF Stock Recommendation Engine</h1>
</header>

<main class="container">

  <!-- CONFIG PANEL -->
  <section class="card collapsible">
    <details open>
      <summary>‚öô Replenishment Settings</summary>

      <div class="config-grid">
        <div>
          <label>Target Stock Cover (Days)</label>
          <input type="number" id="cfgTargetSC" value="30" disabled />
        </div>
        <div>
          <label>Minimum Uniware Balance</label>
          <input type="number" id="cfgMinUni" value="10" disabled />
        </div>
        <div>
          <label>Max Allowed Return %</label>
          <input type="number" id="cfgMaxReturn" value="30" disabled />
        </div>
      </div>

      <div class="config-actions">
        <button class="btn-secondary" id="editConfigBtn">Edit</button>
        <button class="btn-primary" id="saveConfigBtn" disabled>Save</button>
      </div>
    </details>
  </section>

  <!-- FILE UPLOAD -->
  <section class="card" id="fileSection">
    <h2>üìÅ Input Files</h2>

    <div class="file-grid">
      <div class="file-row">
        <label>30D Sale File</label>
        <input type="file" />
        <span class="status">Not uploaded</span>
      </div>
      <div class="file-row">
        <label>FBF Stock File</label>
        <input type="file" />
        <span class="status">Not uploaded</span>
      </div>
      <div class="file-row">
        <label>Uniware Stock File</label>
        <input type="file" />
        <span class="status">Not uploaded</span>
      </div>
      <div class="file-row">
        <label>FC Recommendation File</label>
        <input type="file" />
        <span class="status">Not uploaded</span>
      </div>
    </div>
  </section>

  <!-- ACTION BAR -->
  <section class="action-bar">
    <button class="btn-primary">Generate Recommendation</button>
    <button class="btn-secondary" disabled>Export All</button>
  </section>

  <!-- PROGRESS -->
  <section class="card">
    <h3>Processing Status</h3>
    <div class="progress-wrapper">
      <div class="progress-bar" style="width:0%">0%</div>
    </div>
    <div class="progress-steps">
      <span>Files Loaded</span>
      <span>Data Consolidated</span>
      <span>Metrics Calculated</span>
      <span>Recommendation Done</span>
    </div>
  </section>

  <!-- RESULTS -->
  <section class="results">
    <div class="summary-grid">
      <div class="card"><h3>FC Performance Summary</h3></div>
      <div class="card"><h3>Top 10 Selling SKUs</h3></div>
    </div>

    <div class="card">
      <div class="tabs"></div>
      <div class="tab-content"></div>
    </div>
  </section>

</main>

<!-- ‚úÖ REQUIRED LIBRARIES -->
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

<!-- UI SETTINGS SCRIPT -->
<script>
  const editBtn = document.getElementById('editConfigBtn');
  const saveBtn = document.getElementById('saveConfigBtn');
  const inputs = document.querySelectorAll('.config-grid input');
  const fileSection = document.getElementById('fileSection');
  const fileInputs = fileSection.querySelectorAll('input[type=file]');

  editBtn.onclick = () => {
    inputs.forEach(i => i.disabled = false);
    saveBtn.disabled = false;
    editBtn.disabled = true;
    fileSection.classList.add('disabled-section');
    fileInputs.forEach(i => i.disabled = true);
  };

  saveBtn.onclick = () => {
    inputs.forEach(i => i.disabled = true);
    saveBtn.disabled = true;
    editBtn.disabled = false;
    fileSection.classList.remove('disabled-section');
    fileInputs.forEach(i => i.disabled = false);
  };
</script>

<!-- ‚úÖ LOGIC (MUST BE LAST) -->
<script src="logic.js"></script>

</body>
</html>
